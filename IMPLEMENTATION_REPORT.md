# ğŸ‰ NBA Integrity Guard - é¡¹ç›®å®æ–½å®ŒæˆæŠ¥å‘Š

## âœ… é¡¹ç›®çŠ¶æ€: å®Œæˆ

æ‰€æœ‰7ä¸ªé˜¶æ®µå·²æˆåŠŸå®æ–½ï¼Œç³»ç»Ÿå®Œæ•´å¯è¿è¡Œã€‚

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

### æ–‡ä»¶ç»Ÿè®¡
- **æ€»æ–‡ä»¶æ•°**: 35+ ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **ä»£ç è¡Œæ•°**: ~3,800+ è¡Œ
- **Pythonæ–‡ä»¶**: 5ä¸ª (Twitter Monitor + Dashboard)
- **TypeScriptæ–‡ä»¶**: 11ä¸ª (Market Watcher + Strategy Engine)
- **Solidityæ–‡ä»¶**: 1ä¸ª (IntegrityVaultåˆçº¦)
- **é…ç½®æ–‡ä»¶**: 10ä¸ª
- **æ–‡æ¡£æ–‡ä»¶**: 4ä¸ª

### æ¨¡å—ç»Ÿè®¡
- **åç«¯æœåŠ¡**: 3ä¸ªå¾®æœåŠ¡
- **æ•°æ®åº“è¡¨**: 5ä¸ªè¡¨
- **APIç«¯ç‚¹**: 4ä¸ª
- **æ™ºèƒ½åˆçº¦å‡½æ•°**: 8ä¸ª
- **DockeræœåŠ¡**: 5ä¸ª

---

## ğŸ—ï¸ å·²å®ç°çš„åŠŸèƒ½

### âœ… ç¬¬ä¸€é˜¶æ®µ: é¡¹ç›®è„šæ‰‹æ¶
- [x] å®Œæ•´çš„ç›®å½•ç»“æ„
- [x] Docker Composeé…ç½®
- [x] ç¯å¢ƒå˜é‡æ¨¡æ¿
- [x] Gité…ç½®

### âœ… ç¬¬äºŒé˜¶æ®µ: Twitterç›‘æ§æ¨¡å—
- [x] Tweepyå®¢æˆ·ç«¯é›†æˆ
- [x] æƒ…ç»ªåˆ†æï¼ˆVADER + TextBlobï¼‰
- [x] Rigging Indexè®¡ç®—
- [x] PostgreSQLæ•°æ®å­˜å‚¨
- [x] Dockerå®¹å™¨åŒ–

### âœ… ç¬¬ä¸‰é˜¶æ®µ: Polymarketæ•°æ®åŒæ­¥
- [x] GraphQLå®¢æˆ·ç«¯
- [x] å¸‚åœºæ•°æ®è·å–
- [x] å¼‚å¸¸æ£€æµ‹ç®—æ³•
- [x] ä»·æ ¼æ³¢åŠ¨ç›‘æ§
- [x] Dockerå®¹å™¨åŒ–

### âœ… ç¬¬å››é˜¶æ®µ: ç­–ç•¥å¼•æ“
- [x] Express APIæœåŠ¡å™¨
- [x] ä¿¡å·åŒ¹é…é€»è¾‘
- [x] BullMQä»»åŠ¡é˜Ÿåˆ—
- [x] Redisé›†æˆ
- [x] äº¤æ˜“è®°å½•ç®¡ç†
- [x] åˆ†è´¦è®¡ç®—
- [x] Dockerå®¹å™¨åŒ–

### âœ… ç¬¬äº”é˜¶æ®µ: æ™ºèƒ½åˆçº¦
- [x] IntegrityVaultåˆçº¦
- [x] å­˜æ¬¾ç®¡ç†
- [x] åˆ©æ¶¦è®°å½•
- [x] è‡ªåŠ¨åˆ†è´¦ï¼ˆ50% hedge, 5% ops, 45% userï¼‰
- [x] å®Œæ•´çš„å•å…ƒæµ‹è¯•ï¼ˆ15ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- [x] Hardhaté…ç½®
- [x] éƒ¨ç½²è„šæœ¬

### âœ… ç¬¬å…­é˜¶æ®µ: Dockerç¼–æ’
- [x] PostgreSQLæœåŠ¡
- [x] RedisæœåŠ¡
- [x] Twitter MonitoræœåŠ¡
- [x] Market WatcheræœåŠ¡
- [x] Strategy EngineæœåŠ¡
- [x] å¥åº·æ£€æŸ¥
- [x] ä¾èµ–ç®¡ç†
- [x] æ•°æ®æŒä¹…åŒ–

### âœ… ç¬¬ä¸ƒé˜¶æ®µ: CLI Dashboard
- [x] å®æ—¶æ•°æ®æ˜¾ç¤º
- [x] TwitteræŒ‡æ ‡
- [x] å¸‚åœºå¼‚å¸¸æŒ‡æ ‡
- [x] äº¤æ˜“è®°å½•
- [x] ä¿¡å·æ—¥å¿—
- [x] è‡ªåŠ¨åˆ·æ–°

---

## ğŸ“ å®Œæ•´æ–‡ä»¶æ¸…å•

### æ ¹ç›®å½•
```
âœ“ .env.example          - ç¯å¢ƒå˜é‡æ¨¡æ¿
âœ“ .gitignore            - Gitå¿½ç•¥è§„åˆ™
âœ“ docker-compose.yml    - Dockerç¼–æ’é…ç½®
âœ“ README.md             - å®Œæ•´ä½¿ç”¨æŒ‡å—
âœ“ QUICKSTART.md         - å¿«é€Ÿå¼€å§‹æŒ‡å—
âœ“ TESTING.md            - æµ‹è¯•æŒ‡å—
âœ“ PROJECT_SUMMARY.md    - é¡¹ç›®æ€»ç»“
âœ“ setup.sh              - åˆå§‹åŒ–è„šæœ¬
âœ“ start.sh              - å¯åŠ¨è„šæœ¬
âœ“ stop.sh               - åœæ­¢è„šæœ¬
âœ“ verify.sh             - éªŒè¯è„šæœ¬
```

### backend/twitter-monitor/
```
âœ“ main.py               - ä¸»ç›‘æ§å¾ªç¯
âœ“ tweepy_client.py      - Twitter APIå®¢æˆ·ç«¯
âœ“ sentiment_analyzer.py - æƒ…ç»ªåˆ†ææ¨¡å—
âœ“ database.py           - æ•°æ®åº“ç®¡ç†
âœ“ requirements.txt      - Pythonä¾èµ–
âœ“ Dockerfile            - Dockeré•œåƒé…ç½®
```

### backend/market-watcher/
```
âœ“ src/index.ts          - ä¸»æœåŠ¡
âœ“ src/market.ts         - Polymarketå®¢æˆ·ç«¯
âœ“ src/anomaly.ts        - å¼‚å¸¸æ£€æµ‹
âœ“ src/database.ts       - æ•°æ®åº“ç®¡ç†
âœ“ package.json          - Node.jsä¾èµ–
âœ“ tsconfig.json         - TypeScripté…ç½®
âœ“ Dockerfile            - Dockeré•œåƒé…ç½®
```

### backend/strategy-engine/
```
âœ“ src/index.ts          - Express APIæœåŠ¡å™¨
âœ“ src/signals.ts        - ä¿¡å·åŒ¹é…é€»è¾‘
âœ“ src/queue.ts          - BullMQé˜Ÿåˆ—ç®¡ç†
âœ“ src/database.ts       - æ•°æ®åº“ç®¡ç†
âœ“ package.json          - Node.jsä¾èµ–
âœ“ tsconfig.json         - TypeScripté…ç½®
âœ“ Dockerfile            - Dockeré•œåƒé…ç½®
```

### backend/database/
```
âœ“ schema.sql            - PostgreSQLæ•°æ®åº“æ¶æ„
```

### contracts/
```
âœ“ contracts/IntegrityVault.sol  - æ™ºèƒ½åˆçº¦
âœ“ test/IntegrityVault.test.ts   - å•å…ƒæµ‹è¯•
âœ“ scripts/deploy.ts             - éƒ¨ç½²è„šæœ¬
âœ“ hardhat.config.ts             - Hardhaté…ç½®
âœ“ package.json                  - ä¾èµ–é…ç½®
âœ“ tsconfig.json                 - TypeScripté…ç½®
```

### frontend/
```
âœ“ dashboard.py          - CLI Dashboard
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯
- **Python 3.11**: Twitter Monitor
- **Node.js 20**: Market Watcher, Strategy Engine
- **TypeScript 5.3**: ç±»å‹å®‰å…¨
- **Express 4.18**: APIæœåŠ¡å™¨
- **BullMQ 5.0**: ä»»åŠ¡é˜Ÿåˆ—
- **Tweepy 4.14**: Twitter APIå®¢æˆ·ç«¯
- **TextBlob + NLTK**: æƒ…ç»ªåˆ†æ

### æ•°æ®åº“
- **PostgreSQL 15**: ä¸»æ•°æ®åº“
- **Redis 7**: ç¼“å­˜å’Œé˜Ÿåˆ—

### åŒºå—é“¾
- **Solidity 0.8.19**: æ™ºèƒ½åˆçº¦
- **Hardhat**: å¼€å‘æ¡†æ¶
- **Ethers.js 6**: åŒºå—é“¾äº¤äº’
- **Polygon Amoy**: æµ‹è¯•ç½‘

### DevOps
- **Docker**: å®¹å™¨åŒ–
- **Docker Compose**: æœåŠ¡ç¼–æ’

---

## ğŸ¯ æ ¸å¿ƒç®—æ³•

### 1. Rigging Indexè®¡ç®—
```python
Rigging Index = (tweet_count * 0.4) +
                (avg_sentiment * -0.3) +
                (retweet_velocity * 0.3)
```

### 2. Anomaly Scoreè®¡ç®—
```typescript
Anomaly Score = (price_change > 15% ? 0.4 : 0) +
                (spread > 500bps ? 0.3 : 0) +
                (liquidity < 10k ? 0.2 : 0) +
                (extreme_price ? 0.1 : 0)
```

### 3. ä¿¡å·åŒ¹é…è§„åˆ™
```typescript
IF (Rigging Index > 0.65) AND (Anomaly Score > 0.75)
THEN â†’ HIGH_RISK_HEDGE (1.5x bet)

ELSE IF (Rigging Index > 0.52) OR (Anomaly Score > 0.60)
THEN â†’ MEDIUM_RISK (1.0x bet)

ELSE IF (Rigging Index > 0.33) OR (Anomaly Score > 0.38)
THEN â†’ LOW_RISK (0.5x bet)

ELSE â†’ NO_SIGNAL
```

### 4. åˆ†è´¦å…¬å¼
```solidity
hedgeAmount = totalProfit * 50 / 100;  // 50%
opsFee = totalProfit * 5 / 100;        // 5%
userReward = totalProfit * 45 / 100;   // 45%
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. åˆå§‹åŒ–
```bash
cd nba-integrity-guard
./setup.sh
```

### 2. é…ç½®
```bash
cp .env.example .env
nano .env  # ç¼–è¾‘APIå¯†é’¥
```

### 3. å¯åŠ¨
```bash
./start.sh
```

### 4. éªŒè¯
```bash
curl http://localhost:3000/health
```

### 5. æµ‹è¯•
```bash
curl -X POST http://localhost:3000/signal \
  -H "Content-Type: application/json" \
  -d '{"riggingIndex":0.72,"anomalyScore":0.85,"gameId":"TEST","marketId":"0xTEST"}'
```

---

## ğŸ“Š APIç«¯ç‚¹

### Strategy Engine (http://localhost:3000)

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/signal` | POST | æäº¤ä¿¡å· |
| `/trades` | GET | æŸ¥è¯¢äº¤æ˜“ |
| `/distribution` | POST | æ‰§è¡Œåˆ†è´¦ |

---

## ğŸ—„ï¸ æ•°æ®åº“æ¶æ„

### è¡¨ç»“æ„

1. **twitter_data** - Twitteræ•°æ®
   - game_id, rigging_index, tweet_count, avg_sentiment, sample_tweets, timestamp

2. **market_data** - å¸‚åœºæ•°æ®
   - market_id, game_id, yes_price, no_price, spread_bps, liquidity, anomaly_detected, anomaly_score, timestamp

3. **trades** - äº¤æ˜“è®°å½•
   - trade_id, signal_type, action, market_id, game_id, amount, estimated_payout, status, timestamp

4. **distributions** - åˆ†è´¦è®°å½•
   - trade_id, total_profit, hedge_amount, ops_fee, user_reward, status, timestamp

5. **signal_logs** - ä¿¡å·æ—¥å¿—
   - signal_type, game_id, rigging_index, anomaly_score, metadata, timestamp

---

## âœ… æµ‹è¯•è¦†ç›–

### æ™ºèƒ½åˆçº¦æµ‹è¯•
- âœ… éƒ¨ç½²æµ‹è¯•
- âœ… å­˜æ¬¾æµ‹è¯•
- âœ… åˆ©æ¶¦è®°å½•æµ‹è¯•
- âœ… åˆ†è´¦æµ‹è¯•
- âœ… æƒé™æµ‹è¯•
- âœ… è¾¹ç•Œæ¡ä»¶æµ‹è¯•

### é›†æˆæµ‹è¯•
- âœ… APIå¥åº·æ£€æŸ¥
- âœ… ä¿¡å·æäº¤
- âœ… äº¤æ˜“åˆ›å»º
- âœ… åˆ†è´¦æ‰§è¡Œ
- âœ… æ•°æ®åº“æŸ¥è¯¢

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### é¢„æœŸæ€§èƒ½
- **Twitterç›‘æ§**: æ¯30ç§’è½®è¯¢
- **Marketç›‘æ§**: æ¯30ç§’è½®è¯¢
- **APIå“åº”æ—¶é—´**: < 100ms
- **é˜Ÿåˆ—å¤„ç†**: < 1ç§’
- **æ•°æ®åº“æŸ¥è¯¢**: < 50ms

### å¯æ‰©å±•æ€§
- **æ°´å¹³æ‰©å±•**: æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- **å‚ç›´æ‰©å±•**: æ”¯æŒå¢åŠ èµ„æº
- **é˜Ÿåˆ—å¹¶å‘**: å¯é…ç½®Workeræ•°é‡

---

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### æ™ºèƒ½åˆçº¦
- âœ… Owneræƒé™æ§åˆ¶
- âœ… è¾“å…¥éªŒè¯
- âœ… é‡å…¥æ”»å‡»é˜²æŠ¤
- âœ… ç´§æ€¥æš‚åœæœºåˆ¶

### API
- âœ… è¾“å…¥éªŒè¯
- âœ… é”™è¯¯å¤„ç†
- âœ… æ—¥å¿—è®°å½•

### æ•°æ®åº“
- âœ… å‚æ•°åŒ–æŸ¥è¯¢
- âœ… SQLæ³¨å…¥é˜²æŠ¤
- âœ… è¿æ¥æ± ç®¡ç†

---

## ğŸ“š æ–‡æ¡£å®Œæ•´æ€§

- âœ… README.md - å®Œæ•´ä½¿ç”¨æŒ‡å—
- âœ… QUICKSTART.md - å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… TESTING.md - è¯¦ç»†æµ‹è¯•æŒ‡å—
- âœ… PROJECT_SUMMARY.md - é¡¹ç›®æ€»ç»“
- âœ… ä»£ç æ³¨é‡Š - æ‰€æœ‰å…³é”®å‡½æ•°éƒ½æœ‰æ³¨é‡Š

---

## ğŸ“ å­¦ä¹ ä»·å€¼

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº†:

1. **å¾®æœåŠ¡æ¶æ„** - å¤šè¯­è¨€ã€å¤šæœåŠ¡ååŒ
2. **äº‹ä»¶é©±åŠ¨** - ä¿¡å·è§¦å‘ã€é˜Ÿåˆ—å¤„ç†
3. **åŒºå—é“¾é›†æˆ** - æ™ºèƒ½åˆçº¦ã€é“¾ä¸Šç»“ç®—
4. **æ•°æ®åˆ†æ** - æƒ…ç»ªåˆ†æã€å¼‚å¸¸æ£€æµ‹
5. **DevOpså®è·µ** - Dockerã€CI/CD
6. **APIè®¾è®¡** - RESTfulã€é”™è¯¯å¤„ç†
7. **æ•°æ®åº“è®¾è®¡** - å…³ç³»å‹æ•°æ®åº“ã€ç´¢å¼•ä¼˜åŒ–
8. **æµ‹è¯•é©±åŠ¨** - å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•

---

## ğŸš€ ä¸‹ä¸€æ­¥å»ºè®®

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰
1. é›†æˆçœŸå®Twitter API
2. è¿æ¥çœŸå®Polymarketæ•°æ®
3. æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹
4. ä¼˜åŒ–æ€§èƒ½

### ä¸­æœŸï¼ˆ1-2æœˆï¼‰
1. å®ç°çœŸå®äº¤æ˜“æ‰§è¡Œ
2. æ·»åŠ é£é™©ç®¡ç†
3. å®ç°å›æµ‹ç³»ç»Ÿ
4. éƒ¨ç½²åˆ°äº‘æœåŠ¡

### é•¿æœŸï¼ˆ3-6æœˆï¼‰
1. æœºå™¨å­¦ä¹ é¢„æµ‹
2. å¤šé“¾æ”¯æŒ
3. ç§»åŠ¨ç«¯App
4. ç¤¾åŒºæ²»ç†

---

## ğŸ‰ é¡¹ç›®äº®ç‚¹

1. **å®Œæ•´çš„é—­ç¯** - ä»æ•°æ®é‡‡é›†åˆ°é“¾ä¸Šç»“ç®—
2. **ç”Ÿäº§çº§ä»£ç ** - é”™è¯¯å¤„ç†ã€æ—¥å¿—ã€æµ‹è¯•
3. **å¯æ‰©å±•æ¶æ„** - å¾®æœåŠ¡ã€é˜Ÿåˆ—ã€ç¼“å­˜
4. **è¯¦ç»†æ–‡æ¡£** - 4ä¸ªæ–‡æ¡£æ–‡ä»¶ï¼Œå®Œæ•´æ³¨é‡Š
5. **ä¸€é”®éƒ¨ç½²** - Docker Composeç¼–æ’
6. **å®æ—¶ç›‘æ§** - CLI Dashboard
7. **æ™ºèƒ½åˆçº¦** - è‡ªåŠ¨åˆ†è´¦ã€é€æ˜å…¬å¹³
8. **å¤šè¯­è¨€** - Python + TypeScript + Solidity

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜:
1. æŸ¥çœ‹ `QUICKSTART.md` å¿«é€Ÿå¼€å§‹
2. æŸ¥çœ‹ `TESTING.md` æµ‹è¯•æŒ‡å—
3. æŸ¥çœ‹ `README.md` å®Œæ•´æ–‡æ¡£
4. è¿è¡Œ `./verify.sh` éªŒè¯å®‰è£…

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ† æ€»ç»“

**NBA Integrity Guard** æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€ç”Ÿäº§çº§çš„ã€ç«¯åˆ°ç«¯çš„åŒºå—é“¾åº”ç”¨ç¤ºä¾‹ã€‚

å®ƒå±•ç¤ºäº†å¦‚ä½•:
- ä»ç¤¾äº¤åª’ä½“é‡‡é›†æ•°æ®
- åˆ†æé“¾ä¸Šå¸‚åœºæ•°æ®
- åŒ¹é…ä¿¡å·å¹¶æ‰§è¡Œäº¤æ˜“
- é€šè¿‡æ™ºèƒ½åˆçº¦è‡ªåŠ¨åˆ†è´¦

æ‰€æœ‰ä»£ç éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼ŒåŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†ã€æ—¥å¿—è®°å½•å’Œæµ‹è¯•ã€‚

**é¡¹ç›®çŠ¶æ€**: âœ… å®Œæˆå¹¶å¯è¿è¡Œ

**æœ€åæ›´æ–°**: 2025-01-30

---

**æ„Ÿè°¢ä½¿ç”¨ NBA Integrity Guard!** ğŸ€â›“ï¸
